<html>
<head>
<title>Exception and Error Handling</title>
<link rel="stylesheet" type="text/css" href="../media/style.css">
</head>
<body>

<table border="0" cellspacing="0" cellpadding="0" height="48" width="100%">
  <tr>
    <td class="header_top">Cgiapp2</td>
  </tr>
  <tr><td class="header_line"><img src="../media/empty.png" width="1" height="1" border="0" alt=""  /></td></tr>
  <tr>
    <td class="header_menu">
  		  [ <a href="../classtrees_Cgiapp2.html" class="menu">class tree: Cgiapp2</a> ]
		  [ <a href="../elementindex_Cgiapp2.html" class="menu">index: Cgiapp2</a> ]
		  [ <a href="../elementindex.html" class="menu">all elements</a> ]
    </td>
  </tr>
  <tr><td class="header_line"><img src="../media/empty.png" width="1" height="1" border="0" alt=""  /></td></tr>
</table>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="200" class="menu">
	<div id="ric">
					<p><a href="../ric_Changelog.html">Changelog</a></p>
					<p><a href="../ric_README.html">README</a></p>
			</div>
      <b>Packages:</b><br />
              <a href="../li_Cgiapp2.html">Cgiapp2</a><br />
            <br /><br />
		<b>Tutorials/Manuals:</b><br />
							<strong>Class-level:</strong>
							<ul>
	<li type="square"><a href="../Cgiapp2/tutorial_Cgiapp2.cls.html">Introduction</a>
<ul>
	<li type="square"><a href="../Cgiapp2/tutorial_Cgiapp21.cls.html">Usage Example</a>
</ul>
<ul>
	<li type="square"><a href="../Cgiapp2/tutorial_Cgiapp22.cls.html">Abstract</a>
</ul>
<ul>
	<li type="square"><a href="../Cgiapp2/tutorial_Cgiapp23.cls.html">Purpose and Conventions</a>
</ul>
<ul>
	<li type="square"><a href="../Cgiapp2/tutorial_Cgiapp24.cls.html">Callback Hook System</a>
</ul>
<ul>
	<li type="square"><a href="../Cgiapp2/tutorial_Cgiapp25.cls.html">Exception and Error Handling</a>
</ul>
<ul>
	<li type="square"><a href="../Cgiapp2/tutorial_Cgiapp26.cls.html">Types of Methods</a>
</ul>
<ul>
	<li type="square"><a href="../Cgiapp2/tutorial_Cgiapp27.cls.html">Template Engine Interface</a>
</ul>
<ul>
	<li type="square"><a href="../Cgiapp2/tutorial_Cgiapp28.cls.html">Migrating from Cgiapp to Cgiapp2</a>
</ul>
<ul>
	<li type="square"><a href="../Cgiapp2/tutorial_Cgiapp29.cls.html">Resources and Credits</a>
</ul>
</li></ul>

							                        <b>Files:</b><br />
      	  <div class="package">
			<a href="../Cgiapp2/_Cgiapp2_class_php.html">		Cgiapp2.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Error_class_php.html">		Error.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Exception_Error_class_php.html">		Error.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Exception_class_php.html">		Exception.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_FrontController_class_php.html">		FrontController.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Plugin_Template_Interface_class_php.html">		Interface.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Error_Observer_Interface_class_php.html">		Interface.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Exception_Observer_Interface_class_php.html">		Interface.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Exception_Observer_Log_class_php.html">		Log.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Error_Observer_Log_class_php.html">		Log.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Exception_Observer_Mail_class_php.html">		Mail.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Error_Observer_Mail_class_php.html">		Mail.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Plugin_Savant2_class_php.html">		Savant2.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Plugin_Savant3_class_php.html">		Savant3.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Plugin_Smarty_class_php.html">		Smarty.class.php
		</a><br>
			<a href="../Cgiapp2/_Cgiapp2_Plugin_Xslt_class_php.html">		Xslt.class.php
		</a><br>
	  </div><br />
      
            <b>Classes:</b><br />
        <div class="package">
		    		<a href="../Cgiapp2/Cgiapp2.html">Cgiapp2</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Error.html">Cgiapp2_Error</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Error_Observer_Interface.html">Cgiapp2_Error_Observer_Interface</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Error_Observer_Log.html">Cgiapp2_Error_Observer_Log</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Error_Observer_Mail.html">Cgiapp2_Error_Observer_Mail</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Exception.html">Cgiapp2_Exception</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Exception_Error.html">Cgiapp2_Exception_Error</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Exception_Observer_Interface.html">Cgiapp2_Exception_Observer_Interface</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Exception_Observer_Log.html">Cgiapp2_Exception_Observer_Log</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Exception_Observer_Mail.html">Cgiapp2_Exception_Observer_Mail</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_FrontController.html">Cgiapp2_FrontController</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Plugin_Savant2.html">Cgiapp2_Plugin_Savant2</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Plugin_Savant3.html">Cgiapp2_Plugin_Savant3</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Plugin_Smarty.html">Cgiapp2_Plugin_Smarty</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Plugin_Template_Interface.html">Cgiapp2_Plugin_Template_Interface</a><br />
	    		<a href="../Cgiapp2/Cgiapp2_Plugin_Xslt.html">Cgiapp2_Plugin_Xslt</a><br />
	  </div>
                </td>
    <td>
      <table cellpadding="10" cellspacing="0" width="100%" border="0"><tr><td valign="top">

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="10%" align="left" valign="bottom"><a href=
"../Cgiapp2/tutorial_Cgiapp24.cls.html">Prev</a></td>
<td width="80%" align="center" valign="bottom"></td>
<td width="10%" align="right" valign="bottom"><a href=
"../Cgiapp2/tutorial_Cgiapp26.cls.html">Next</a></td>
</tr>
</table>
<div><a name=""></a><div class="ref-title-box">Exception and Error Handling<h1 class="ref-title">Exception and Error Handling</h1>
    <h2 class="ref-purpose">Exception and PHP Error handling in Cgiapp2</h2></div>

<span><a name=""></a><h2 class="title">Overview</h2><p>Cgiapp2 has several mechanisms for both triggering and handling errors
        and exceptions. These include:</p>
    <li><a href="../Cgiapp2/Cgiapp2.html#methodcarp">carp()</a> - triggers PHP
            warnings</li>
        <li><a href="../Cgiapp2/Cgiapp2.html#methodcroak">croak()</a> - triggers PHP
            errors</li>
        <li><a href="../Cgiapp2/Cgiapp2_Error.html">Cgiapp2_Error</a> - observable PHP Error handler
            class</li>
        <li><a href="../Cgiapp2/Cgiapp2_Exception.html">Cgiapp2_Exception</a> - observable Exception
            class</li>
        <li><a href="../Cgiapp2/Cgiapp2_Exception_Error.html">Cgiapp2_Exception_Error</a> - handles PHP errors by
            throwing them as <a href="../Cgiapp2/Cgiapp2_Exception.html">Cgiapp2_Exception</a>s.</li></span>

<span><a name=""></a><h2 class="title">Carp and Croak</h2><p><a href="../Cgiapp2/Cgiapp2.html#methodcarp">carp()</a> and <a href="../Cgiapp2/Cgiapp2.html#methodcroak">croak()</a> take
        their names from the perl module <a href="http://search.cpan.org/search?query=carp&mode=module">Carp</a>.
        These methods are used to produce warnings and fatal errors,
        respectively; their usage in Cgiapp2 is to trigger PHP E_USER_WARNING and
        E_USER_ERROR errors.</p>
    <p>carp() and croak() are used within the Cgiapp2 class itself. carp() is
        used when a non-fatal condition occurs that the developer should
        probably correct. croak() is used when Cgiapp2 is missing information
        that is necessary for execution.</p>
    <p>Exceptions are not used because in the case of carp(), there's no need
        to halt current execution. croak() could probably trigger an exception
        instead of a PHP error, but doesn't for backwards compatibility
        purposes. This way, the developer doesn't need ot necessarily update all
        application instance scripts developed with prior Cgiapp2 versions
        (pre-2.0.0). Otherwise, they would need to add something like the
        following:</p>
    <div class="listing"><pre><ol><li><span class="src-php">&lt;?php</span></li>
<li><span class="src-inc">require_once </span><span class="src-str">'SomeApp.class.php'</span><span class="src-sym">;</span></li>
<li>try <span class="src-sym">{</span></li>
<li>    <span class="src-var">$webapp </span>= <span class="src-key">new </span><span class="src-id">SomeApp</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li>    <span class="src-var">$webapp</span><span class="src-sym">-&gt;</span><span class="src-id">run</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><span class="src-sym">} </span>catch <span class="src-sym">(</span><span class="src-id"><a href="../Cgiapp2/Cgiapp2_Exception.html">Cgiapp2_Exception</a> </span><span class="src-var">$e</span><span class="src-sym">) </span><span class="src-sym">{</span></li>
<li>    <span class="src-comm">// do something with the exception...</span></li>
<li><span class="src-sym">}</span></li>
<li><span class="src-php">?&gt;</span></li>
</ol></pre></div>
    <p>You can use carp() and croak() in your own development if you wish to
        utilize PHP's error handling mechanism. If you do, you might want to
        consider using <a href="../Cgiapp2/Cgiapp2_Error.html">Cgiapp2_Error</a> as your error handler. See below for
        more details on the functionality it offers.</p></span>

<span><a name=""></a><h2 class="title">Cgiapp2_Error Class</h2><p><a href="../Cgiapp2/Cgiapp2_Error.html">Cgiapp2_Error</a> is a class that can be used for handling PHP
        errors. To use it, simply add the following to your script or class:</p>
    <div class="listing"><pre><ol><li><span class="src-php">&lt;?php</span></li>
<li><span class="src-inc">include_once </span><span class="src-str">'Cgiapp2/Error.class.php'</span><span class="src-sym">;</span></li>
<li><a href="http://www.php.net/set_error_handler">set_error_handler</a><span class="src-sym">(</span><span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'Cgiapp2_Error'</span><span class="src-sym">, </span><span class="src-str">'handler'</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><span class="src-php">?&gt;</span></li>
</ol></pre></div>
    <p>Why use Cgiapp2_Error? Cgiapp2_Error is an observable class, which means
        you can create observer classes that will be notified when an error is
        raised. Such a class might send an email to you, log the error to a
        file, redirect to another page, etc.</p>
    <p>The Cgiapp2 distribution contains an interface class for creating
        observers, <a href="../Cgiapp2/Cgiapp2_Error_Observer_Interface.html">Cgiapp2_Error_Observer_Interface</a>, and two sample
        observers:</p>
    <li><a href="../Cgiapp2/Cgiapp2_Error_Observer_Log.html">Cgiapp2_Error_Observer_Log</a>, for logging
            errors</li>
        <li><a href="../Cgiapp2/Cgiapp2_Error_Observer_Mail.html">Cgiapp2_Error_Observer_Mail</a>, for mailing
            errors</li>
    <p>Observer classes basically need only <a href="../Cgiapp2/Cgiapp2_Error.html#methodattach">attach</a>
        themselves to the Cgiapp2_Error class, and then implement an event()
        method. For example:</p>
    <div class="listing"><pre><ol><li><span class="src-php">&lt;?php</span></li>
<li><span class="src-comm">// Will register with Cgiapp2_Error</span></li>
<li><span class="src-inc">include_once </span><span class="src-str">'Cgiapp2/Error.class.php'</span><span class="src-sym">;</span></li>
<li>&nbsp;</li>
<li><span class="src-comm">// Implements Cgiapp2_Error_Observer_Interface</span></li>
<li><span class="src-inc">include_once </span><span class="src-str">'Cgiapp2/Error/Observer/Interface.class.php'</span><span class="src-sym">;</span></li>
<li>&nbsp;</li>
<li><span class="src-key">class </span><span class="src-id">MyObserver </span><span class="src-key">implements </span><span class="src-id">Cgiapp2_Error_Observer_Interface</span></li>
<li><span class="src-sym">{</span></li>
<li>    <span class="src-key">public </span><span class="src-key">static </span><span class="src-key">function </span><span class="src-id">event</span><span class="src-sym">(</span><span class="src-id">Cgiapp2_Error </span><span class="src-var">$e</span><span class="src-sym">)</span></li>
<li>    <span class="src-sym">{</span></li>
<li>        <span class="src-comm">// Do something with the exception...</span></li>
<li>    <span class="src-sym">}</span></li>
<li><span class="src-sym">}</span></li>
<li>&nbsp;</li>
<li><span class="src-comm">// Register with Cgiapp2_Error</span></li>
<li><span class="src-id"><a href="../Cgiapp2/Cgiapp2_Error.html">Cgiapp2_Error</a></span><span class="src-sym">::</span><a href="../Cgiapp2/Cgiapp2_Error.html#methodattach">attach</a><span class="src-sym">(</span><span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'MyObserver'</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><span class="src-php">?&gt;</span></li>
</ol></pre></div></span>

<span><a name=""></a><h2 class="title">Cgiapp2_Exception Class</h2><p><a href="../Cgiapp2/Cgiapp2_Exception.html">Cgiapp2_Exception</a> is an exception class that can be used for
        throwing exceptions.  To use it, simply add the following to your script
        or class:</p>
    <div class="listing"><pre><ol><li><span class="src-php">&lt;?php</span></li>
<li><span class="src-inc">include_once </span><span class="src-str">'Cgiapp2/Exception.class.php'</span><span class="src-sym">;</span></li>
<li><span class="src-php">?&gt;</span></li>
</ol></pre></div>
    <p>Why use Cgiapp2_Exception? Cgiapp2_Exception is an observable class, which
        means you can create observer classes that will be notified when an
        exception is thrown. Such a class might send an email to you, log the
        exception details to a file, redirect to another page, etc.</p>
    <p>The Cgiapp2 distribution contains an interface class for creating
        observers, <a href="../Cgiapp2/Cgiapp2_Exception_Observer_Interface.html">Cgiapp2_Exception_Observer_Interface</a>, and two sample
        observers:</p>
    <li><a href="../Cgiapp2/Cgiapp2_Exception_Observer_Log.html">Cgiapp2_Exception_Observer_Log</a>, for logging
            errors</li>
        <li><a href="../Cgiapp2/Cgiapp2_Exception_Observer_Mail.html">Cgiapp2_Exception_Observer_Mail</a>, for mailing
            errors</li>
    <p>Observer classes basically need only <a href="../Cgiapp2/Cgiapp2_Exception.html#methodattach">attach</a>
        themselves to the Cgiapp2_Exception class, and then implement an event()
        method. For example:</p>
    <div class="listing"><pre><ol><li><span class="src-php">&lt;?php</span></li>
<li><span class="src-comm">// Will register with Cgiapp2_Exception</span></li>
<li><span class="src-inc">include_once </span><span class="src-str">'Cgiapp2/Exception.class.php'</span><span class="src-sym">;</span></li>
<li>&nbsp;</li>
<li><span class="src-comm">// Implements Cgiapp2_Exception_Observer_Interface</span></li>
<li><span class="src-inc">include_once </span><span class="src-str">'Cgiapp2/Exception/Observer/Interface.class.php'</span><span class="src-sym">;</span></li>
<li>&nbsp;</li>
<li><span class="src-key">class </span><span class="src-id">MyObserver </span><span class="src-key">implements </span><span class="src-id">Cgiapp2_Exception_Observer_Interface</span></li>
<li><span class="src-sym">{</span></li>
<li>    <span class="src-key">public </span><span class="src-key">static </span><span class="src-key">function </span><span class="src-id">event</span><span class="src-sym">(</span><span class="src-id">Cgiapp2_Exception </span><span class="src-var">$e</span><span class="src-sym">)</span></li>
<li>    <span class="src-sym">{</span></li>
<li>        <span class="src-comm">// Do something with the exception...</span></li>
<li>    <span class="src-sym">}</span></li>
<li><span class="src-sym">}</span></li>
<li>&nbsp;</li>
<li><span class="src-comm">// Register with Cgiapp2_Exception</span></li>
<li><span class="src-id"><a href="../Cgiapp2/Cgiapp2_Exception.html">Cgiapp2_Exception</a></span><span class="src-sym">::</span><a href="../Cgiapp2/Cgiapp2_Exception.html#methodattach">attach</a><span class="src-sym">(</span><span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'MyObserver'</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><span class="src-php">?&gt;</span></li>
</ol></pre></div></span>

<span><a name=""></a><h2 class="title">Cgiapp2_Exception_Error Class</h2><p><a href="../Cgiapp2/Cgiapp2_Exception_Error.html">Cgiapp2_Exception_Error</a> inherits from <a href="../Cgiapp2/Cgiapp2_Exception.html">Cgiapp2_Exception</a>,
        and is used to handle PHP errors by throwing them as Cgiapp2_Exceptions.
        To use it, simply add the following to your script or class:</p>
    <div class="listing"><pre><ol><li><span class="src-php">&lt;?php</span></li>
<li><span class="src-inc">include_once </span><span class="src-str">'Cgiapp2/Exception/Error.class.php'</span><span class="src-sym">;</span></li>
<li><a href="http://www.php.net/set_error_handler">set_error_handler</a><span class="src-sym">(</span><span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'Cgiapp2_Exception_Error'</span><span class="src-sym">, </span><span class="src-str">'handler'</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><span class="src-php">?&gt;</span></li>
</ol></pre></div>
    <p>Cgiapp2 uses Cgiapp2_Exception_Error internally during run mode execution,
        throwing a Cgiapp2_Exception_Error when encountering a PHP error. If such
        an exception is caught, it executes the 
        <a href="../Cgiapp2/Cgiapp2.html#methoderror_mode">designated error mode</a>.</p>
    <p>Since Cgiapp2_Exception_Error inherits from Cgiapp2_Exception, any
        Cgiapp2_Exception observers you use will also handle any 
        Cgiapp2_Exception_Errors thrown. This is a powerful way to handle both
        exceptions and PHP errors.</p></span></div>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="../Cgiapp2/tutorial_Cgiapp24.cls.html">Prev</a></td>
<td width="34%" align="center" valign="top"><a href=
"../Cgiapp2/tutorial_Cgiapp2.cls.html">Up</a></td>
<td width="33%" align="right" valign="top"><a href=
"../Cgiapp2/tutorial_Cgiapp26.cls.html">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">Callback Hook System</td>
<td width="34%" align="center" valign="top">Introduction</td>
<td width="33%" align="right" valign="top">Types of Methods</td>
</tr>
</table>
        <div class="credit">
		    <hr />
		    Documentation generated on Sat, 03 Jun 2006 10:48:30 -0400 by <a href="http://www.phpdoc.org">phpDocumentor 1.3.0RC5</a>
	      </div>
      </td></tr></table>
    </td>
  </tr>
</table>

</body>
</html>